drop table if exists t1;
create table t1(a int, b date, c nchar, d enum('red','yellow','blue','green'));
insert into t1 values(1,'2013-1-2',n'h',1);
insert into t1 values(1,'2013-1-2',n'h',1);
insert into t1 values(2,'2013-12-2',n'W',2);
insert into t1 values(2,'2013-10-12',n'w',2); 
insert into t1 values(2,'2013-10-12',n'w',3);
insert into t1 select * from t1;
insert into t1 select * from t1;
insert into t1 select * from t1;
insert into t1 select * from t1;
insert into t1 select * from t1;
insert into t1 select * from t1;
insert into t1 select * from t1;
insert into t1 select * from t1;
insert into t1 select * from t1;
insert into t1 select * from t1;
insert into t1 select * from t1;
insert into t1 select * from t1;
insert into t1 select * from t1;
insert into t1 select * from t1;
---insert into t1 select rownum, '2013-10-12',n'welcome',3 from db_class a, db_class b, db_user c limit 3528;
insert into t1 select rownum, '2013-10-12',n'w',3 from  db_root connect by level <= 3528;
set trace on;
select d, max(b) from (select * from t1 order by 1,2,3,4) group by d;
show trace;
set trace on output json;
select avg(a), max(b) from (select * from t1 order by 1,2,3,4) group by d;
show trace;
select d, max(b) from (select a, b, d from t1 order by a,b,d) group by d;
show trace;
select d, avg(a) from (select a, b, d from t1 order by a,b,d) group by d;
show trace;
select d, min(b) from (select * from t1 order by 1,2,3,4) group by d;
show trace;
select a, b from (select * from t1 order by 1,2,3,4) limit 3;
show trace;


drop table t1;
